# GrandGold Enterprise Marketplace - Environment Variables
# Copy this file to .env.local and fill in the values

# =============================================================================
# APPLICATION
# =============================================================================
NODE_ENV=development
APP_NAME=GrandGold
APP_URL=http://localhost:3000
API_URL=http://localhost:4000

# Backend service URLs (for Next.js rewrites - web app proxies /api/* to these)
NEXT_PUBLIC_APP_URL=http://localhost:3000
# Auth: use localhost for local auth-service, or deployed URL to point at Cloud Run
NEXT_PUBLIC_AUTH_SERVICE_URL=http://localhost:4001
# Production (grandmarketplace): NEXT_PUBLIC_AUTH_SERVICE_URL=https://auth-service-484382472654.asia-south1.run.app
NEXT_PUBLIC_SELLER_SERVICE_URL=http://localhost:4002
NEXT_PUBLIC_PAYMENT_SERVICE_URL=http://localhost:4005

# =============================================================================
# DATABASE (Cloud SQL PostgreSQL)
# =============================================================================
DATABASE_URL=postgresql://postgres:password@localhost:5432/grandgold_dev
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=grandgold_dev
DATABASE_USER=postgres
DATABASE_PASSWORD=password

# =============================================================================
# REDIS (Memorystore)
# =============================================================================
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# =============================================================================
# AUTHENTICATION
# =============================================================================
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d
MFA_ISSUER=GrandGold

# =============================================================================
# OAUTH PROVIDERS
# =============================================================================
# Google OAuth
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_CALLBACK_URL=http://localhost:4000/api/auth/google/callback

# Facebook OAuth
FACEBOOK_APP_ID=
FACEBOOK_APP_SECRET=
FACEBOOK_CALLBACK_URL=http://localhost:4000/api/auth/facebook/callback

# Apple Sign-In
APPLE_CLIENT_ID=
APPLE_TEAM_ID=
APPLE_KEY_ID=
APPLE_PRIVATE_KEY=
APPLE_CALLBACK_URL=http://localhost:4000/api/auth/apple/callback

# =============================================================================
# GCP SERVICES
# =============================================================================
GCP_PROJECT_ID=grandgold-dev
GCP_REGION=asia-south1
GCP_STORAGE_BUCKET=grandgold-assets-dev

# Document AI (KYC)
DOCUMENT_AI_PROCESSOR_ID=
DOCUMENT_AI_LOCATION=us

# Vertex AI (AI service - chat, visual search)
VERTEX_AI_LOCATION=us-central1
GCP_PROJECT_ID=grandgold-dev

# AI Service
NEXT_PUBLIC_AI_SERVICE_URL=http://localhost:4009

# =============================================================================
# THIRD-PARTY SERVICES
# =============================================================================
# Live Metal Pricing (storefront header - Admin config or env)
# Set these in Cloud Run / production when config file is not persisted
# Budget: ~100 calls/month on MetalpriceAPI free plan
# Strategy: Fetches only 3 times daily at UAE market hours:
#   - 09:00 AM UAE (05:00 UTC)
#   - 12:15 PM UAE (08:15 UTC)
#   - 04:30 PM UAE (12:30 UTC)
# = 3 calls/day Ã— 31 days = 93 calls/month (safely under 100)
# All other requests are served from cache (file-backed + in-memory)
METAL_PRICING_API_KEY=
METAL_PRICING_PROVIDER=metalpriceapi
METAL_PRICING_BASE_URL=
METAL_PRICING_ENABLED=true

# Metals.Dev API (Gold Pricing - legacy naming)
METALS_DEV_API_KEY=
METALS_DEV_API_URL=https://api.metals.dev/v1

# Stripe (UK, International)
STRIPE_SECRET_KEY=
STRIPE_PUBLISHABLE_KEY=
STRIPE_WEBHOOK_SECRET=

# Razorpay (India)
RAZORPAY_KEY_ID=
RAZORPAY_KEY_SECRET=
RAZORPAY_WEBHOOK_SECRET=

# PayPal
PAYPAL_CLIENT_ID=
PAYPAL_CLIENT_SECRET=
PAYPAL_MODE=sandbox

# DocuSign
DOCUSIGN_INTEGRATION_KEY=
DOCUSIGN_USER_ID=
DOCUSIGN_ACCOUNT_ID=
DOCUSIGN_PRIVATE_KEY=

# Resend (Email)
RESEND_API_KEY=

# Abandoned Cart (order-service)
ABANDONED_CART_CRON_ENABLED=true
ABANDONED_CART_FROM_EMAIL=GrandGold <noreply@grandgold.com>
WEB_URL=http://localhost:3000

# WhatsApp Business API
WHATSAPP_BUSINESS_ACCOUNT_ID=
WHATSAPP_ACCESS_TOKEN=
WHATSAPP_PHONE_NUMBER_ID=

# Twilio (SMS/OTP)
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# =============================================================================
# STRAPI CMS
# =============================================================================
STRAPI_URL=http://localhost:1337
STRAPI_API_TOKEN=

# =============================================================================
# MEILISEARCH
# =============================================================================
MEILISEARCH_HOST=http://localhost:7700
MEILISEARCH_API_KEY=

# =============================================================================
# COUNTRY CONFIGURATION
# =============================================================================
DEFAULT_COUNTRY=IN
SUPPORTED_COUNTRIES=IN,AE,UK

# India Config
INDIA_CURRENCY=INR
INDIA_TAX_RATE=3

# UAE Config
UAE_CURRENCY=AED
UAE_TAX_RATE=5

# UK Config
UK_CURRENCY=GBP
UK_TAX_RATE=20

# =============================================================================
# reCAPTCHA (optional - for login/register bot protection)
# =============================================================================
NEXT_PUBLIC_RECAPTCHA_SITE_KEY=
RECAPTCHA_SECRET_KEY=

# =============================================================================
# SECURITY
# =============================================================================
ENCRYPTION_KEY=your-32-character-encryption-key
CORS_ORIGINS=http://localhost:3000,http://localhost:3001
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# Per-route rate limits (optional overrides)
RATE_LIMIT_AUTH_MAX=10
RATE_LIMIT_AI_MAX=30

# =============================================================================
# MONITORING
# =============================================================================
LOG_LEVEL=debug
SENTRY_DSN=
